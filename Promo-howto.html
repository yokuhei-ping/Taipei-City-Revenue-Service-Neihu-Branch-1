<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="稅務申辦教你做～：稅務入口網教學影片，可直接在頁面播放 YouTube。" />
  <title>稅務申辦教你做～｜內湖分處</title>
  <style>
    :root{
      --bg:#f8fafc; --card:#ffffff; --muted:#64748b; --text:#0f172a; --line:#e2e8f0;
      --brand:#0f172a; --ok:#16a34a;
      --shadow: 0 1px 2px rgba(15,23,42,.06), 0 12px 30px rgba(15,23,42,.08);
      --r: 18px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:0 16px}
    .hidden{display:none}

    /* Top bar */
    .top{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.82);backdrop-filter: blur(10px);border-bottom:1px solid rgba(226,232,240,.8)}
    .top .inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 0}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:40px;height:40px;border-radius:14px;background:var(--brand);color:#fff;display:grid;place-items:center;font-weight:900;font-size:12px;letter-spacing:.5px}
    .brand h1{margin:0;font-size:14px;line-height:1.2}
    .brand p{margin:2px 0 0;font-size:12px;color:var(--muted)}

    .nav{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .btn{border:1px solid var(--line);background:#fff;border-radius:14px;padding:10px 12px;font-size:13px;font-weight:800;box-shadow:0 1px 2px rgba(15,23,42,.05);cursor:pointer}
    .btn.primary{border-color:transparent;background:var(--brand);color:#fff}
    .btn:hover{filter:brightness(.98)}

    .menuBtn{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:14px;border:1px solid var(--line);background:#fff;box-shadow:0 1px 2px rgba(15,23,42,.05);cursor:pointer}
    .menuBtn svg{width:20px;height:20px}

    .navDesktop{display:none}
    .navMobile{border-top:1px solid rgba(226,232,240,.9);background:#fff}
    .navMobile .grid{display:grid;gap:8px;padding:12px 0}
    .navLink{border:1px solid var(--line);background:#fff;border-radius:14px;padding:10px 12px;font-size:13px;font-weight:800;color:var(--text)}
    .navLink:hover{background:#f1f5f9}

    /* Hero */
    .hero{padding:18px 0 10px}
    .heroCard{position:relative;overflow:hidden;background:linear-gradient(135deg, #ffffff, #eef2ff);border:1px solid var(--line);border-radius:calc(var(--r) + 10px);box-shadow:var(--shadow);padding:18px}
    .crumb{display:flex;gap:8px;flex-wrap:wrap;align-items:center;font-size:12px;color:var(--muted)}
    .crumb a{text-decoration:underline}
    .tag{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);background:#fff;border-radius:999px;padding:6px 10px;font-size:12px;color:var(--muted);width:fit-content}
    .dot{width:8px;height:8px;border-radius:999px;background:var(--ok)}
    h2{margin:10px 0 0;font-size:26px;letter-spacing:-.02em}
    .sub{margin:8px 0 0;color:var(--muted);font-size:13px;line-height:1.65}

    /* Video grid */
    .section{padding:14px 0 26px}
    .sectionTitle{display:flex;align-items:flex-end;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .sectionTitle h3{margin:0;font-size:16px;letter-spacing:-.01em}
    .sectionTitle p{margin:6px 0 0;font-size:13px;color:var(--muted)}

    .videoGrid{display:grid;gap:14px;margin-top:12px;grid-template-columns: 1fr}
    .videoCard{background:#fff;border:1px solid var(--line);border-radius:calc(var(--r) + 8px);box-shadow:var(--shadow);overflow:hidden}

    /* 16:9 */
    .ratio{position:relative;width:100%;padding-top:56.25%;background:#0b1220}
    .ratio iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    .videoBody{padding:14px 14px 16px;display:grid;gap:8px}
    .videoTitle{font-weight:900;letter-spacing:-.01em}
    .videoDesc{margin:0;color:var(--muted);font-size:13px;line-height:1.7}
    .metaRow{display:flex;gap:8px;flex-wrap:wrap}
    .badge{display:inline-flex;align-items:center;gap:6px;border-radius:999px;border:1px solid var(--line);background:#fff;padding:6px 10px;font-size:12px;color:var(--muted);font-weight:900}

    footer{border-top:1px solid rgba(226,232,240,.9);background:#fff}
    .foot{padding:18px 0;color:var(--muted);font-size:12px;line-height:1.6}

    @media (min-width: 860px){
      .navDesktop{display:flex}
      .menuBtn{display:none}
      .videoGrid{grid-template-columns: 1fr 1fr}
      h2{font-size:34px}
    }
  </style>
</head>

<body>
  <header class="top">
    <div class="wrap">
      <div class="inner">
        <a class="brand" href="index.html" title="回首頁">
          <div class="logo">內湖</div>
          <div>
            <h1>臺北市稅捐稽徵處｜內湖分處</h1>
            <p>稅務申辦教你做～</p>
          </div>
        </a>

        <nav class="nav navDesktop" aria-label="主選單">
          <a class="btn" href="index.html">首頁</a>
          <a class="btn" href="items.html">宣導品品項</a>
          <a class="btn primary" href="promo.html">宣導專區</a>
          <a class="btn" href="schedule.html">租稅宣導期程</a>
          <a class="btn" href="gallery.html">宣導成果回顧</a>
          <a class="btn" href="contact.html">聯絡資訊</a>
        </nav>

        <button class="menuBtn" id="menuBtn" aria-label="開啟選單" type="button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6.5h16a1 1 0 1 1 0 2H4a1 1 0 0 1 0-2Zm0 6h16a1 1 0 1 1 0 2H4a1 1 0 0 1 0-2Zm0 6h16a1 1 0 1 1 0 2H4a1 1 0 0 1 0-2Z"/></svg>
        </button>
      </div>

      <div class="navMobile hidden" id="mobileMenu">
        <div class="grid">
          <a class="navLink" href="index.html">首頁</a>
          <a class="navLink" href="items.html">宣導品品項</a>
          <a class="navLink" href="promo.html">宣導專區</a>
          <a class="navLink" href="schedule.html">租稅宣導期程</a>
          <a class="navLink" href="gallery.html">宣導成果回顧</a>
          <a class="navLink" href="contact.html">聯絡資訊</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <div class="heroCard">
          <div class="crumb">宣導專區 ＞ <a href="promo.html">子頁面列表</a> ＞ 稅務申辦教你做～</div>
          <div style="height:10px"></div>
          <div class="tag"><span class="dot"></span> 稅務入口網專區</div>
          <h2>申辦流程教學影片</h2>
          <p class="sub">本頁影片可直接播放 YouTube（桌機兩欄／手機一欄）。若顯示「Video unavailable」，代表該影片作者關閉嵌入功能。</p>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="wrap">
        <div class="sectionTitle">
          <div>
            <h3>教學影片</h3>
            <p>稅務入口網：申請地價稅課稅明細表、申請財產查詢清單</p>
          </div>
        </div>

        <div class="videoGrid" id="videoGrid"></div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div class="foot">
        <div><b>臺北市稅捐稽徵處｜內湖分處</b>　稅務申辦教你做～</div>
      </div>
    </div>
  </footer>

  <script>
    const videos = [
      {
        title: '申請地價稅課稅明細表',
        url: 'https://www.youtube.com/watch?v=fA6IdkwiORk',
        tag: '稅務入口網',
        desc: '線上申辦指引：如何利用網路申請地價稅課稅明細表。'
      },
      {
        title: '申請財產查詢清單',
        url: 'https://www.youtube.com/watch?v=6HjSHSmz8TM&t=22s',
        tag: '稅務入口網',
        desc: '線上申辦指引：如何利用網路申請／查調財產查詢清單。'
      },
    ];

    function getVideoId(url){
      try{
        const u = new URL(url);
        const v = u.searchParams.get('v');
        if(v) return v;
        if(u.hostname.includes('youtu.be')) return u.pathname.split('/').filter(Boolean)[0] || '';
        const parts = u.pathname.split('/').filter(Boolean);
        const idx = parts.indexOf('shorts');
        if(idx >= 0 && parts[idx+1]) return parts[idx+1];
        const eidx = parts.indexOf('embed');
        if(eidx >= 0 && parts[eidx+1]) return parts[eidx+1];
        return '';
      }catch{ return ''; }
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'",'&#039;');
    }

    function render(){
      const grid = document.getElementById('videoGrid');
      grid.innerHTML = videos.map(v => {
        const id = getVideoId(v.url);
        const embed = id ? `https://www.youtube.com/embed/${id}` : '';
        return `
          <article class="videoCard">
            <div class="ratio">
              ${embed ? `<iframe src="${embed}" title="${escapeHtml(v.title)}" loading="lazy"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>` : `<div style="position:absolute;inset:0;display:grid;place-items:center;color:#fff;font-weight:900">請填入正確 YouTube 連結</div>`}
            </div>
            <div class="videoBody">
              <div class="videoTitle">${escapeHtml(v.title)}</div>
              <div class="metaRow">
                ${v.tag ? `<span class="badge">${escapeHtml(v.tag)}</span>` : ''}
                <a class="badge" href="${v.url}" target="_blank" rel="noopener">在 YouTube 開啟</a>
              </div>
              ${v.desc ? `<p class="videoDesc">${escapeHtml(v.desc)}</p>` : ''}
            </div>
          </article>
        `;
      }).join('');
    }

    // 手機選單
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    menuBtn?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    render();
  </script>
</body>
</html>
